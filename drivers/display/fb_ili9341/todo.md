## 🧪 ili9341 驱动开发任务

- [ ] 阅读 ili9341 数据手册并理解通信时序
- [ ] 收集开源 ili9341 Linux 驱动参考实现
- [ ] 规划 ili9341 驱动文件目录与结构
- [ ] 编写驱动基础框架（spi_driver 注册/注销）
- [ ] 实现 屏幕 初始化与控制
- [ ] 实现字符设备接口（open/read/release）
- [ ] 编写测试程序




## 项目日志
- 2025年4月19日 13时37分 
    开始编写驱动，打算使用st7735的这个驱动 
    作为学习项目，然后使用伪代码来理解代码，编写代码
- 2025年4月19日 17时47分
    这个对我还是有挑战的，spi的驱动开发，我修改了st7735的代码
    改成ili9341，但是代码没有修改
    打算使用开发循环的思想，每一步都有可执行的软件，然后迭代
    打算写伪代码
    修改了makefile 现在编译不会有很多文件散落了 ，都放在make里了
- 2025年4月20日 0时30分
    我似乎摸清设备树是怎么开发的了。首先 orangepi-config,这个命令就说明了很多，它是通过修改orangepiEnv.txt 这个文件里的overlay，直接添加的，如果我在overlay文件夹下添加设备树插件，并且在这个文件里写了这个overlay=  那么这个文件是可以在orangepi-config里找到的。说明他们是一个东西
    其次，设备树插件是可以使用的，它有自己的语法，插件的意思就是补丁，补谁的丁呢，就是sun50i-h618-orangepi-zero3.dts的，一个设备树插件里，fragment@0{} 的等代表的就是插件1 2 ，target 就是插件的位置，__overlay__ 这里的语法就是设备树的语法，它是个树，所以要在树上添加各种各样的节点。而且这个是通的，因为我在树莓派也好，香橙派也好，armbian也好，野火的开发板也好，都看到了这个-config ，输入就会进入命令行界面。 

    所以我现在要测试两点 
    1. 照抄的设备树插件文件是否存在
    2. 如果不存在，我该怎么修改到让它存在
    3. 我用的是spi-cs1的设备树插件，香橙派wiki已经详细的给出了如何使用spi 那么我的设备树插件是否可以一样使用

    确实看到了节点，但是奇奇怪怪，在/proc/device-tree/soc/spi@5011000/ili9341@0/ 这里，并且不知道是否可以使用，并且
    更怪的是我竟然有这个东西的初始化，还提示我初始化失败，并且它在内核模块编写里面，源码编译了，但是我没拷贝过，所以它就是存在的。
    明天再看吧，至少进行了一大步，像这种屏幕的驱动似乎都不用写。因为驱动都提供好了。学会配置就好

- 2025年4月20日 16时5分
    神经，直接配置好了，因为这个内核里就是存在的
    